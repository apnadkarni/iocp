<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>iocp</title>
<link rel='stylesheet' type='text/css' href='assets/ruff-min.css' />
<script type='text/javascript' src='assets/ruff-min.js'></script>
</head>
<body>
<div class='ruff-layout'>
<header class='ruff-layout-header ruff-hd'>
<a style='text-decoration:none;' href='iocp.html'>iocp (v1.1.0)</a>


            <div id="ruffButtonBar">
            <button id="ruffNavMove" onclick="ruffMoveNavPane()"></button>
            <button id="ruffToggleTheme" onclick="ruffNextTheme()"></button>
            </div>
        </header><main class='ruff-layout-main ruff-bd'><h1 class='ruff'><a name='::iocp::inet'></a>::iocp::inet<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='iocp.html'>Main</a>, <a href='iocp-docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>The <code>iocp::inet</code> namespace implements communication over TCP/IP. It provides the same interface as the Tcl core <code>socket</code> command but with greater performance.</p>
<p class='ruff'>The package is loaded as</p>
<pre class='ruff'>
package require iocp_inet
</pre>
<h2 class='ruff'><a name='::iocp::inet-Commands'></a>Commands<span class='ruff-uplink'><a href='iocp-iocp-inet.html#::iocp::inet'>inet</a>, <a href='#top'>Top</a>, <a href='iocp.html'>Main</a>, <a href='iocp-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffproc'><a name='::iocp::inet::socket'>socket</a><span class='ns_scope'> [<a href="iocp-iocp-inet.html#::iocp::inet" title="::iocp::inet" class='ruff_cmd'>::iocp::inet</a>]</span><span class='ruff-uplink'><a href='iocp-iocp-inet.html#::iocp::inet'>inet</a>, <a href='#top'>Top</a>, <a href='iocp.html'>Main</a>, <a href='iocp-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Returns a client or server TCP/IP channel.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>socket</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>args</code></td><td>See the Tcl core <code>socket</code> command.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The command provides the same interface as the Tcl core <a href="http://www.tcl-lang.org/man/tcl8.6/TclCmd/socket.htm" >socket</a> command except for the additional socket options listed below. Refer to the documentation of the Tcl <a href="http://www.tcl-lang.org/man/tcl8.6/TclCmd/socket.htm" >socket</a> command for details.</p>
<p class='ruff'>The only functional enhancement offered by this command is significantly improved performance with reduced CPU load.</p>
<p class='ruff'>In addition to the standard configuration options supported by the Tcl <code>socket</code> command, the following additional configuration options are supported through the Tcl <code>fconfigure</code> and <code>chan configure</code> commands. They can be read as well as set.</p>
<table class='ruff_deflist'>
<tr><td>-keepalive BOOL</td><td>Controls the socket <code>SO_KEEPALIVE</code> option.</td></tr>
<tr><td>-maxpendingaccepts COUNT</td><td>Maximum number of pending accepts to post on the socket (listening socket only).</td></tr>
<tr><td>-maxpendingreads COUNT</td><td>Maximum number of pending reads to post on the socket.</td></tr>
<tr><td>-maxpendingwrites COUNT</td><td>Maximum number of pending writes to post on the socket.</td></tr>
<tr><td>-nagle BOOL</td><td>Controls the socket <code>TCL_NODELAY</code> option.</td></tr>
<tr><td>-sorcvbuf BUFSIZE</td><td>Size of Winsock socket receive buffer.</td></tr>
<tr><td>-sosndbuf BUFSIZE</td><td>Size of Winsock socket send buffer.</td></tr>
</table>
<p class='ruff'>It is recommended these be left at their default values except in cases where performance needs to be fine tuned for specific traffic patterns. The <code>netbench</code> utility may be used for the purpose.</p>
<p class='ruff'>The returned channel must be closed with the Tcl <code>close</code> or <code>chan close</code> command.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a client or server TCP/IP channel.</p>
</main><nav class='ruff-nav'><ul style='position: sticky; top: 0;'><li class='ruff-toc1'><a style='padding-top:2px;' href='iocp.html'>Start page</a></li>
<li class='ruff-toc1'><a href='iocp-docindex.html' accesskey='i'>Index</a></li>
<hr>
<li class='ruff-toc1'><a href='iocp-iocp-bt.html'>iocp::bt</a></li>
<li class='ruff-toc1'><a href='iocp-iocp-bt-names.html'>iocp::bt::names</a></li>
<li class='ruff-toc1'><a href='iocp-iocp-bt-sdr.html'>iocp::bt::sdr</a></li>
<li class='ruff-toc1'><a class='ruff-highlight' href='iocp-iocp-inet.html'>iocp::inet</a></li>
<hr><li class='ruff-toc2'><a href='#::iocp::inet-Commands'>Commands</a></li><li class='ruff-toc3 ruff-tip'><a href='iocp-iocp-inet.html#::iocp::inet::socket'>socket</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>socket</span> <span class='ruff_arg'>?args?</span></pre>Returns a client or server TCP/IP channel.
</span></li></ul></nav><footer class='ruff-layout-footer ruff-ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div><div>&copy; Ashok P. Nadkarni</div></footer>
</div></body></html>
